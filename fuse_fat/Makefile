CC = cc
CSOURCE = fuse_fat
CFLAGS = -Wall -lm -g

all: $(CSOURCE)

$(CSOURCE):
	$(CC) $(CFLAGS) $(CSOURCE).c `pkg-config fuse --cflags --libs` -o $(CSOURCE) \
			-D SUPER_BLOCK_MAGIC_NUMBER=$(SUPER_BLOCK_MAGIC_NUMBER) \
			-DBLOCK_SIZE=$(BLOCK_SIZE) -DTOTAL_SIZE=$(TOTAL_SIZE) \
			-DTOTAL_BLOCKS=$(TOTAL_BLOCKS)	-DENTRIES_PER_FAT_BLOCK=$(ENTRIES_PER_FAT_BLOCK) \
			-DNUM_POINTERS_IN_FAT=$(NUM_POINTERS_IN_FAT) -DNUM_FAT_BLOCKS=$(NUM_FAT_BLOCKS);
clean:
	rm -f $(CSOURCE)

